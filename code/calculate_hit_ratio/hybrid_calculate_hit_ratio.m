function [fifo, lru, qlru, adap] = hybrid_calculate_hit_ratio()
    data_hits = [0.016927719116210938, 0.016927719116210938, 0.016927719116210938, 0.0171661376953125, 0.017881393432617188, 0.01811981201171875, 0.01811981201171875, 0.018835067749023438, 0.018835067749023438, 0.019073486328125, 0.019073486328125, 0.019788742065429688, 0.019788742065429688, 0.02002716064453125, 0.02002716064453125, 0.02002716064453125, 0.02002716064453125, 0.02002716064453125, 0.02002716064453125, 0.02002716064453125, 0.02002716064453125, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.0209808349609375, 0.021219253540039062, 0.021219253540039062, 0.021219253540039062, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.02193450927734375, 0.022172927856445312, 0.022172927856445312, 0.022172927856445312, 0.022172927856445312, 0.022172927856445312, 0.022172927856445312, 0.022172927856445312, 0.022172927856445312, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.02288818359375, 0.023126602172851562, 0.023126602172851562, 0.023126602172851562, 0.023126602172851562, 0.023126602172851562, 0.023126602172851562, 0.023126602172851562, 0.023126602172851562, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.02384185791015625, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.024080276489257812, 0.0247955322265625, 0.0247955322265625, 0.0247955322265625, 0.0247955322265625, 0.0247955322265625, 0.0247955322265625, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025033950805664062, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.025987625122070312, 0.026226043701171875, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.026941299438476562, 0.027179718017578125, 0.027179718017578125, 0.027179718017578125, 0.027179718017578125, 0.027179718017578125, 0.027179718017578125, 0.027179718017578125, 0.027179718017578125, 0.027894973754882812, 0.027894973754882812, 0.027894973754882812, 0.027894973754882812, 0.027894973754882812, 0.027894973754882812, 0.027894973754882812, 0.027894973754882812, 0.027894973754882812, 0.028133392333984375, 0.028133392333984375, 0.028133392333984375, 0.028848648071289062, 0.028848648071289062, 0.028848648071289062, 0.029087066650390625, 0.030040740966796875, 0.030994415283203125, 0.031948089599609375, 0.04601478576660156];
    data_misses = [0.3998279571533203, 0.5769729614257812, 0.5857944488525391, 0.5869865417480469, 0.6008148193359375, 0.6060600280761719, 0.6270408630371094, 0.6339550018310547, 0.659942626953125, 0.6868839263916016, 0.6918907165527344, 0.7009506225585938, 0.7791519165039062, 0.7870197296142578, 0.80108642578125, 0.8068084716796875, 0.8320808410644531, 0.84686279296875, 0.8540153503417969, 0.8602142333984375, 0.8859634399414062, 0.8940696716308594, 0.9779930114746094, 1.0290145874023438, 1.0428428649902344, 1.0690689086914062, 1.0797977447509766, 1.1501312255859375, 1.1768341064453125, 1.1889934539794922, 1.45721435546875, 1.4688968658447266, 1.5339851379394531, 1.7249584197998047];

    max_hit = max(data_hits);
    min_miss = min(data_misses);
    threshold = 0.67854495255004; %0.404477119445801; %(min_miss + max_hit) / 2; %0.222921371459961

    %Response time (ms) for packets sorted by port numbers:
    fifo = [];
    for i = 1:9
       filename = "Hybrid_attack/fifo-" + i + "-1.txt";
       fifo_data = readmatrix(filename);
       hit_ratio = calc_hit_ratio(fifo_data, threshold);
       fifo = [fifo, hit_ratio];
    end

    lru = [];
    for i = 1:9
       filename = "Hybrid_attack/lru-" + i + "-1.txt";
       lru_data = readmatrix(filename);
       hit_ratio = calc_hit_ratio(lru_data, threshold);
       lru = [lru, hit_ratio];
    end

    qlru = [];
    for i = 1:9
       filename = "Hybrid_attack/qlru-" + i + "-1.txt";
       qlru_data = readmatrix(filename);
       hit_ratio = calc_hit_ratio(qlru_data, threshold);
       qlru = [qlru, hit_ratio];
    end
    
    adap = [];
    for i = 1:9
       filename = "Hybrid_attack/adap-" + i + "-1.txt";
       adap_data = readmatrix(filename);
       hit_ratio = calc_hit_ratio(adap_data, threshold);
       adap = [adap, hit_ratio];
    end
    
    function hit_ratio = calc_hit_ratio (data, threshold)
        hits = 0;
        for i=1:length(data)
            if data(i) <= threshold
                hits = hits+1;
            end
            %hits
            hit_ratio = hits / length(data);
        end
    end

    function [ x,f ] = empirical_cdf( data )
        % f(x) is the staircase empirical CDF based on 'data'
        x = sort(data);
        f = ([1:length(data)]./length(data));
    end

end

% debugged on May 26, passed successfully
% load('C1000_dos_adaptive_strategy3.mat')
% hybrid_calculate_hit_ratio
% 
% ans =
% 
%     0.8654    0.7285    0.9244    0.9089    0.8949    0.7853    0.8570    0.8540    0.8137

